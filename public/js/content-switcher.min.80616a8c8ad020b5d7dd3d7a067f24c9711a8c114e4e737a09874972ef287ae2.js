document.addEventListener("DOMContentLoaded",function(){console.log("Content switcher starting...");const t=document.querySelector('[data-content-type="ai"]');if(!t){console.log("No AI content found on this page");return}const n=document.querySelector('[data-content-type="original"]');if(!n){console.log("Original content not found");return}function o(){const n=document.documentElement,e=document.body;if(n.getAttribute("data-theme")==="dark"||e.getAttribute("data-theme")==="dark")return"dark";if(n.classList.contains("dark")||e.classList.contains("dark"))return"dark";const s=localStorage.getItem("theme")||localStorage.getItem("colorScheme");if(s==="dark")return"dark";const o=getComputedStyle(e),t=o.backgroundColor;if(t&&t.startsWith("rgb(")){const e=t.match(/\d+/g);if(e&&e.length>=3){const t=(parseInt(e[0])+parseInt(e[1])+parseInt(e[2]))/3;if(t<128)return"dark"}}return"light"}function e(){const e=o(),s=e==="dark";if(s){n.style.display="none",t.style.display="block",console.log("Switched to AI content (dark mode)");const e=document.querySelector(".content-mode-label");e&&(e.textContent="🤖 AI-Generated Content")}else{n.style.display="block",t.style.display="none",console.log("Switched to original content (light mode)");const e=document.querySelector(".content-mode-label");e&&(e.textContent="✏️ Original Content")}}const s=new MutationObserver(function(t){let n=!1;t.forEach(function(e){if(e.type==="attributes"){const t=e.attributeName;(t==="data-theme"||t==="class"||t==="style")&&(n=!0)}if(e.type==="childList"){const t=Array.from(e.addedNodes),s=Array.from(e.removedNodes);[...t,...s].forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&e.classList&&(e.classList.contains("dark")||e.classList.contains("light")||e.getAttribute&&e.getAttribute("data-theme"))&&(n=!0)})}}),n&&setTimeout(e,50)});s.observe(document.documentElement,{attributes:!0,childList:!0,subtree:!1,attributeFilter:["data-theme","class","style"]}),s.observe(document.body,{attributes:!0,childList:!0,subtree:!1,attributeFilter:["data-theme","class","style"]}),window.addEventListener("storage",function(t){(t.key==="theme"||t.key==="colorScheme")&&setTimeout(e,50)}),document.addEventListener("click",function(t){const n=t.target;(n.tagName==="BUTTON"||n.getAttribute("role")==="button"||n.classList.contains("toggle")||n.textContent.toLowerCase().includes("theme")||n.textContent.toLowerCase().includes("dark")||n.textContent.toLowerCase().includes("light"))&&setTimeout(e,100)}),setTimeout(e,100),console.log("Content switcher initialized successfully")})